{
  "info": {
    "submission": "diff --git a/sklearn/compose/_column_transformer.py b/sklearn/compose/_column_transformer.py\nindex 4eddd12b1..601bf9cea 100644\n--- a/sklearn/compose/_column_transformer.py\n+++ b/sklearn/compose/_column_transformer.py\n@@ -303,6 +303,18 @@ class ColumnTransformer(TransformerMixin, _BaseComposition):\n         for trans in transformers:\n             _safe_set_output(trans, transform=transform)\n \n+        # If remainder is provided as an estimator (not \"passthrough\" or \"drop\"),\n+        # ensure its output configuration is set as well. This covers the case\n+        # where set_output is called before fitting and remainder is an estimator\n+        # (it will not appear in self.transformers).\n+        remainder = getattr(self, \"remainder\", None)\n+        if remainder not in {None, \"passthrough\", \"drop\"}:\n+            # Check that remainder behaves like an estimator before setting output.\n+            if (hasattr(remainder, \"fit\") or hasattr(remainder, \"fit_transform\")) and hasattr(\n+                remainder, \"transform\"\n+            ):\n+                _safe_set_output(remainder, transform=transform)\n+\n         return self\n \n     def get_params(self, deep=True):",
    "config": {
      "agent": "swe-agent",
      "model": "gpt-5-mini"
    }
  },
  "messages": [],
  "trajectory_format": "mini-swe-agent-1",
  "instance_id": "scikit-learn__scikit-learn-26323"
}