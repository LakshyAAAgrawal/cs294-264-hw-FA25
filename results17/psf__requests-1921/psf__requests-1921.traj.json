{
  "info": {
    "submission": "diff --git a/requests/adapters.py b/requests/adapters.py\nindex ca46223..2c4e727 100644\n--- a/requests/adapters.py\n+++ b/requests/adapters.py\n@@ -330,18 +330,23 @@ class HTTPAdapter(BaseAdapter):\n                     timeout=timeout\n                 )\n \n-            # Send the request.\n-            else:\n-                if hasattr(conn, 'proxy_pool'):\n-                    conn = conn.proxy_pool\n+if hasattr(conn, 'proxy_pool'):\n+                      conn = conn.proxy_pool\n+\n+                  low_conn = conn._get_conn(timeout=timeout)\n \n-                low_conn = conn._get_conn(timeout=timeout)\n+                  try:\n+                      low_conn.putrequest(request.method,\n+                                          url,\n+                                          skip_accept_encoding=True)\n \n-                try:\n-                    low_conn.putrequest(request.method,\n-                                        url,\n-                                        skip_accept_encoding=True)\n+                      for header, value in request.headers.items():\n+                          # Skip headers with value of None to avoid sending the literal \"None\".\n+                          if value is None:\n+                              continue\n+                          low_conn.putheader(header, value)\n \n+                      low_conn.endheaders()\n                     for header, value in request.headers.items():\n                         low_conn.putheader(header, value)",
    "config": {
      "agent": "swe-agent",
      "model": "gpt-5-mini"
    }
  },
  "messages": [],
  "trajectory_format": "mini-swe-agent-1",
  "instance_id": "psf__requests-1921"
}