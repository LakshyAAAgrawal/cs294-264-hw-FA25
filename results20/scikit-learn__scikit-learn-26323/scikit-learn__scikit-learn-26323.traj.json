{
  "info": {
    "submission": "diff --git a/sklearn/compose/_column_transformer.py b/sklearn/compose/_column_transformer.py\nindex 4eddd12b1..292e4ace2 100644\n--- a/sklearn/compose/_column_transformer.py\n+++ b/sklearn/compose/_column_transformer.py\n@@ -282,23 +282,30 @@ class ColumnTransformer(TransformerMixin, _BaseComposition):\n         ----------\n         transform : {\"default\", \"pandas\"}, default=None\n             Configure output of `transform` and `fit_transform`.\n-\n-            - `\"default\"`: Default output format of a transformer\n-            - `\"pandas\"`: DataFrame output\n-            - `None`: Transform configuration is unchanged\n-\n-        Returns\n-        -------\n-        self : estimator instance\n-            Estimator instance.\n-        \"\"\"\n-        super().set_output(transform=transform)\n-        transformers = (\n+super().set_output(transform=transform)\n+        transformers = [\n             trans\n             for _, trans, _ in chain(\n                 self.transformers, getattr(self, \"transformers_\", [])\n             )\n             if trans not in {\"passthrough\", \"drop\"}\n+        ]\n+        for trans in transformers:\n+            _safe_set_output(trans, transform=transform)\n+\n+        # Ensure remainder estimator also has its output configured when it is\n+        # an estimator (not 'drop' or 'passthrough') and not already handled.\n+        if hasattr(self, \"_remainder\"):\n+            rem = self._remainder[1]\n+        else:\n+            rem = self.remainder\n+        if not isinstance(rem, str) and rem is not None and rem not in transformers:\n+            _safe_set_output(rem, transform=transform)\n+\n+        return self\n+            _safe_set_output(rem, transform=transform)\n+            )\n+            if trans not in {\"passthrough\", \"drop\"}\n         )\n         for trans in transformers:\n             _safe_set_output(trans, transform=transform)",
    "config": {
      "agent": "swe-agent",
      "model": "gpt-5-mini"
    }
  },
  "messages": [],
  "trajectory_format": "mini-swe-agent-1",
  "instance_id": "scikit-learn__scikit-learn-26323"
}