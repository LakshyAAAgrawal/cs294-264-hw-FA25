{
  "info": {
    "submission": "diff --git a/sphinx/util/typing.py b/sphinx/util/typing.py\nindex 87707d48f..e295cd6d8 100644\n--- a/sphinx/util/typing.py\n+++ b/sphinx/util/typing.py\n@@ -191,6 +191,11 @@ def _restify_py37(cls: Optional[Type]) -> str:\n         return text\n     elif isinstance(cls, typing._SpecialForm):\n         return ':py:obj:`~%s.%s`' % (cls.__module__, cls._name)\n+    # Prefer a mocked object's explicit __display_name__ if present to avoid\n+    # empty __qualname__ producing outputs like \"torch.nn.\" instead of\n+    # \"torch.nn.Module\".\n+    elif getattr(cls, '__display_name__', None):\n+        return ':py:class:`%s`' % (cls.__display_name__)\n     elif hasattr(cls, '__qualname__'):\n         if cls.__module__ == 'typing':\n             return ':py:class:`~%s.%s`' % (cls.__module__, cls.__qualname__)",
    "config": {
      "agent": "swe-agent",
      "model": "gpt-5-mini"
    }
  },
  "messages": [],
  "trajectory_format": "mini-swe-agent-1",
  "instance_id": "sphinx-doc__sphinx-9658"
}