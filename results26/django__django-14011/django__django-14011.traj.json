{
  "info": {
    "submission": "diff --git a/django/test/testcases.py b/django/test/testcases.py\nindex 92f566b7b0..96e07d3988 100644\n--- a/django/test/testcases.py\n+++ b/django/test/testcases.py\n@@ -1485,8 +1485,6 @@ class LiveServerThread(threading.Thread):\n         self.error = None\n         self.static_handler = static_handler\n         self.connections_override = connections_override\n-        super().__init__()\n-\n     def run(self):\n         \"\"\"\n         Set up the live server and databases, and then loop over handling\n@@ -1501,6 +1499,11 @@ class LiveServerThread(threading.Thread):\n             # Create the handler for serving static and media files\n             handler = self.static_handler(_MediaFilesHandler(WSGIHandler()))\n             self.httpd = self._create_server()\n+            # Ensure worker threads are not daemonic so shutdown waits for them,\n+            # allowing database connections to be closed before test DB destruction.\n+            # This prevents race conditions where destroy_test_db() fails because\n+            # other threads still hold connections (see ticket #22414 regression).\n+            self.httpd.daemon_threads = False\n             # If binding to port zero, assign the port allocated by the OS.\n             if self.port == 0:\n                 self.port = self.httpd.server_address[1]\n@@ -1510,6 +1513,7 @@ class LiveServerThread(threading.Thread):\n         except Exception as e:\n             self.error = e\n             self.is_ready.set()\n+\n         finally:\n             connections.close_all()",
    "config": {
      "agent": "swe-agent",
      "model": "gpt-5-mini"
    }
  },
  "messages": [],
  "trajectory_format": "mini-swe-agent-1",
  "instance_id": "django__django-14011"
}