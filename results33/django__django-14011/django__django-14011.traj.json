{
  "info": {
    "submission": "diff --git a/django/core/servers/basehttp.py b/django/core/servers/basehttp.py\nindex 14dab517c9..ee811758cb 100644\n--- a/django/core/servers/basehttp.py\n+++ b/django/core/servers/basehttp.py\n@@ -88,9 +88,12 @@ class ServerHandler(simple_server.ServerHandler):\n     def __init__(self, stdin, stdout, stderr, environ, **kwargs):\n         \"\"\"\n         Use a LimitedStream so that unread request data will be ignored at\n-        the end of the request. WSGIRequest uses a LimitedStream but it\n-        shouldn't discard the data since the upstream servers usually do this.\n-        This fix applies only for testserver/runserver.\n+    def close(self):\n+        self.get_stdin()._read_limited()\n+        super().close()\n+        # Ensure any DB connections opened while handling this request are closed.\n+        from django.db import connections\n+        connections.close_all()\n         \"\"\"\n         try:\n             content_length = int(environ.get('CONTENT_LENGTH'))",
    "config": {
      "agent": "swe-agent",
      "model": "gpt-5-mini"
    }
  },
  "messages": [],
  "trajectory_format": "mini-swe-agent-1",
  "instance_id": "django__django-14011"
}