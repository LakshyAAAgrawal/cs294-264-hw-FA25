{
  "info": {
    "submission": "diff --git a/requests/utils.py b/requests/utils.py\nindex 132cd2b..d6d48c5 100644\n--- a/requests/utils.py\n+++ b/requests/utils.py\n@@ -654,8 +654,6 @@ def guess_json_utf(data):\n             return 'utf-32-le'\n         # Did not detect a valid UTF-32 ascii-range character\n     return None\n-\n-\n def prepend_scheme_if_needed(url, new_scheme):\n     '''Given a URL that may or may not have a scheme, prepend the given scheme.\n     Does not replace a present scheme with the one provided as an argument.'''\n@@ -693,6 +691,20 @@ def to_native_string(string, encoding='ascii'):\n \n     if isinstance(string, builtin_str):\n         out = string\n+    else:\n+        if is_py2:\n+            out = string.encode(encoding)\n+        else:\n+            # Python 3: bytes/bytearray must be decoded to str. Try the requested\n+            # encoding first; if that fails (e.g. bytes are UTF-8 but encoding\n+\n+            else:\n+                out = str(string)\n+\n+    return out\n+\n+    return out\n+        out = string\n     else:\n         if is_py2:\n             out = string.encode(encoding)",
    "config": {
      "agent": "swe-agent",
      "model": "gpt-5-mini"
    }
  },
  "messages": [],
  "trajectory_format": "mini-swe-agent-1",
  "instance_id": "psf__requests-2931"
}