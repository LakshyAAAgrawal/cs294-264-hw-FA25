{
  "info": {
    "submission": "diff --git a/sphinx/util/typing.py b/sphinx/util/typing.py\nindex 87707d48f..1ba0a1112 100644\n--- a/sphinx/util/typing.py\n+++ b/sphinx/util/typing.py\n@@ -160,10 +160,7 @@ def _restify_py37(cls: Optional[Type]) -> str:\n                 return ':py:obj:`~typing.Optional`\\\\ [:obj:`~typing.Union`\\\\ [%s]]' % args\n             else:\n                 return ':py:obj:`~typing.Optional`\\\\ [%s]' % restify(cls.__args__[0])\n-        else:\n-            args = ', '.join(restify(a) for a in cls.__args__)\n-            return ':py:obj:`~typing.Union`\\\\ [%s]' % args\n-    elif inspect.isgenericalias(cls):\n+elif inspect.isgenericalias(cls):\n         if isinstance(cls.__origin__, typing._SpecialForm):\n             text = restify(cls.__origin__)  # type: ignore\n         elif getattr(cls, '_name', None):\n@@ -171,6 +168,10 @@ def _restify_py37(cls: Optional[Type]) -> str:\n                 text = ':py:class:`~%s.%s`' % (cls.__module__, cls._name)\n             else:\n                 text = ':py:class:`%s.%s`' % (cls.__module__, cls._name)\n+        else:\n+            text = restify(cls.__origin__)\n+                return ':py:obj:`%s.%s`' % (cls.__module__, name)\n+                text = ':py:class:`%s.%s`' % (cls.__module__, cls._name)\n         else:\n             text = restify(cls.__origin__)",
    "config": {
      "agent": "swe-agent",
      "model": "gpt-5-mini"
    }
  },
  "messages": [],
  "trajectory_format": "mini-swe-agent-1",
  "instance_id": "sphinx-doc__sphinx-9658"
}