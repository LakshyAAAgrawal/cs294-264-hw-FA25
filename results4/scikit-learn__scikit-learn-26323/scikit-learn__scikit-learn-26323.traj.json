{
  "info": {
    "submission": "diff --git a/sklearn/compose/_column_transformer.py b/sklearn/compose/_column_transformer.py\nindex 4eddd12b1..cb917442d 100644\n--- a/sklearn/compose/_column_transformer.py\n+++ b/sklearn/compose/_column_transformer.py\n@@ -272,7 +272,7 @@ class ColumnTransformer(TransformerMixin, _BaseComposition):\n         except (TypeError, ValueError):\n             self.transformers = value\n \n-    def set_output(self, *, transform=None):\n+def set_output(self, *, transform=None):\n         \"\"\"Set the output container when `\"transform\"` and `\"fit_transform\"` are called.\n \n         Calling `set_output` will set the output of all estimators in `transformers`\n@@ -303,6 +303,14 @@ class ColumnTransformer(TransformerMixin, _BaseComposition):\n         for trans in transformers:\n             _safe_set_output(trans, transform=transform)\n \n+        # If `remainder` was provided as an estimator and `transformers_` does not\n+        # exist yet (i.e., set_output is called before fitting), ensure we also\n+        # propagate the output config to that remainder estimator.\n+        if hasattr(self, \"remainder\") and not hasattr(self, \"transformers_\"):\n+            remainder = self.remainder\n+            if remainder not in {\"passthrough\", \"drop\"}:\n+                _safe_set_output(remainder, transform=transform)\n+\n         return self\n \n     def get_params(self, deep=True):",
    "config": {
      "agent": "swe-agent",
      "model": "gpt-5-mini"
    }
  },
  "messages": [],
  "trajectory_format": "mini-swe-agent-1",
  "instance_id": "scikit-learn__scikit-learn-26323"
}